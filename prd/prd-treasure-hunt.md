# 遛狗寻宝 — 功能设计文档

## 功能定位

**一句话定位**：遛狗路上开宝箱，顺路薅羊毛——用趣味寻宝驱动遛狗频率，为宠物商家引流。

**核心策略**：平台投放为主，帮助宠物垂直商家（宠物店、宠物医院、宠物美容等）引流到店。通过积分宝箱维持日常活跃度，商家宝箱实现商业变现。

**用户基础**：约 8000 用户，分布在 5-10 个城市，每城市数百至千人。

---

## 核心玩法

地图上散布两类宝箱，用户遛狗时走到宝箱 GPS 范围内（50m）手动开启，获得奖励。

### 两类宝箱

| | 商家宝箱 | 积分宝箱 |
|--|---------|---------|
| 投放方 | 运营手动（后台打点） | 系统自动（遛狗热力图） |
| 位置 | 商家门店附近 | 遛狗热门区域 |
| 奖励 | 商家优惠券 + 额外积分 | 平台积分（5-20 随机） |
| 数量 | 少而精 | 多而散 |
| 外观 | 金色/品牌色差异化标识 | 普通标识 |
| 领取规则 | 有数量上限，同一用户同一商家宝箱限领 1 次 | 先到先得，领取即消失 |
| 生命周期 | 到期或领完自动下架 | 每日凌晨自动刷新 |

### 积分宝箱刷新策略

- 每日凌晨根据遛狗热力图自动刷新一批
- 刷新密度与该区域活跃用户数正相关——用户多的区域宝箱多
- 每人每日可开积分宝箱上限 10 个

---

## 积分体系（MVP 精简版）

MVP 只做积分累计，不做积分商城。

### 积分获取

| 途径 | 积分 | 说明 |
|------|------|------|
| 开积分宝箱 | 5-20 | 随机，每日上限 10 个 |
| 开商家宝箱 | 10-50 | 额外积分奖励 |
| 每日遛狗打卡 | 10 | 遛狗轨迹记录 ≥10 分钟 |
| 连续遛狗签到 | 额外 5/天 | 连续 7 天翻倍一次 |

- 每日积分上限：200 分
- 积分有效期：获取后 180 天过期

### 积分消耗

MVP 阶段暂不开放消耗，后续上线积分商城（实物兑换、优惠券兑换、虚拟装饰等）。

---

## 用户流程

```
打开地图 → 看到附近宝箱（区分商家/积分两种图标）
    → 朝宝箱方向遛狗
    → 进入 50m 范围，宝箱变亮 + 气泡提示"可开启"
    → 点击宝箱 → 开箱动画 → 展示奖励
        → 商家券：展示券面详情 + "去使用"按钮
        → 积分："+15 积分"提示，累计到账户
    → 继续遛狗找下一个
```

### 消息提醒

- 进入宝箱 50m 范围时推送本地通知（App 在后台也能收到）
- 不做持续距离播报，避免打扰

### 地图展示

- 在现有地图页（GPS 定位页）上叠加宝箱图层
- 宝箱图标区分类型，显示距离标注（"距你 230m"）
- 支持筛选只看某类宝箱

---

## 防作弊（MVP 最小化）

前期以拉新为主，不做过度限制。MVP 仅做：
- GPS 定位精度校验：精度 >100m 时不允许开箱

后续根据数据表现按需添加更多规则。

---

## MVP 功能边界

### 做

- 地图宝箱图层（商家宝箱 + 积分宝箱）
- GPS 进入 50m 范围后手动开箱
- 商家宝箱 → 发优惠券
- 积分宝箱 → 积分累计（每日上限 10 个）
- 积分宝箱系统每日自动刷新（基于热力图）
- 商家宝箱运营手动投放
- 开箱动画和奖励展示
- 我的券包（查看已领优惠券）
- 我的积分（余额 + 流水记录）
- GPS 精度校验（>100m 不可开箱）

### 不做

- 积分商城
- 到店核销
- 社交寻宝（好友互相藏宝）
- 运营后台（先用简易工具或直接数据库操作）
- 复杂防作弊
- AR 扫一扫
- 宝箱分享到社交广场

---

## 后续扩展方向（非 MVP）

1. **积分商城**：实物兑换、优惠券兑换、虚拟装饰
2. **社交寻宝**：好友之间互相藏宝，增加社交粘性
3. **虚拟寻宝**：纯系统生成的趣味宝箱，激励遛狗行为
4. **运营后台**：完整的商家管理、宝箱投放、数据看板
5. **到店核销**：高价值宝箱需到店扫码开启，强化引流效果
6. **本地生活商家接入**：从宠物垂直扩展到泛本地生活

---

## 版本记录

| 版本 | 日期 | 说明 |
|------|------|------|
| v1.0 | 2026-02-26 | 初版 MVP 设计 |
